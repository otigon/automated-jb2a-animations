{"version":3,"file":"polyfill.js","sources":["../../../node_modules/es6-promise-polyfill/promise.js","../src/Promise.ts","../../../node_modules/object-assign/index.js","../src/Object.assign.ts","../src/requestAnimationFrame.ts","../src/Math.sign.ts","../src/Number.isInteger.ts","../src/index.ts"],"sourcesContent":["(function(global){\n\n//\n// Check for native Promise and it has correct interface\n//\n\nvar NativePromise = global['Promise'];\nvar nativePromiseSupported =\n  NativePromise &&\n  // Some of these methods are missing from\n  // Firefox/Chrome experimental implementations\n  'resolve' in NativePromise &&\n  'reject' in NativePromise &&\n  'all' in NativePromise &&\n  'race' in NativePromise &&\n  // Older version of the spec had a resolver object\n  // as the arg rather than a function\n  (function(){\n    var resolve;\n    new NativePromise(function(r){ resolve = r; });\n    return typeof resolve === 'function';\n  })();\n\n\n//\n// export if necessary\n//\n\nif (typeof exports !== 'undefined' && exports)\n{\n  // node.js\n  exports.Promise = nativePromiseSupported ? NativePromise : Promise;\n  exports.Polyfill = Promise;\n}\nelse\n{\n  // AMD\n  if (typeof define == 'function' && define.amd)\n  {\n    define(function(){\n      return nativePromiseSupported ? NativePromise : Promise;\n    });\n  }\n  else\n  {\n    // in browser add to global\n    if (!nativePromiseSupported)\n      global['Promise'] = Promise;\n  }\n}\n\n\n//\n// Polyfill\n//\n\nvar PENDING = 'pending';\nvar SEALED = 'sealed';\nvar FULFILLED = 'fulfilled';\nvar REJECTED = 'rejected';\nvar NOOP = function(){};\n\nfunction isArray(value) {\n  return Object.prototype.toString.call(value) === '[object Array]';\n}\n\n// async calls\nvar asyncSetTimer = typeof setImmediate !== 'undefined' ? setImmediate : setTimeout;\nvar asyncQueue = [];\nvar asyncTimer;\n\nfunction asyncFlush(){\n  // run promise callbacks\n  for (var i = 0; i < asyncQueue.length; i++)\n    asyncQueue[i][0](asyncQueue[i][1]);\n\n  // reset async asyncQueue\n  asyncQueue = [];\n  asyncTimer = false;\n}\n\nfunction asyncCall(callback, arg){\n  asyncQueue.push([callback, arg]);\n\n  if (!asyncTimer)\n  {\n    asyncTimer = true;\n    asyncSetTimer(asyncFlush, 0);\n  }\n}\n\n\nfunction invokeResolver(resolver, promise) {\n  function resolvePromise(value) {\n    resolve(promise, value);\n  }\n\n  function rejectPromise(reason) {\n    reject(promise, reason);\n  }\n\n  try {\n    resolver(resolvePromise, rejectPromise);\n  } catch(e) {\n    rejectPromise(e);\n  }\n}\n\nfunction invokeCallback(subscriber){\n  var owner = subscriber.owner;\n  var settled = owner.state_;\n  var value = owner.data_;  \n  var callback = subscriber[settled];\n  var promise = subscriber.then;\n\n  if (typeof callback === 'function')\n  {\n    settled = FULFILLED;\n    try {\n      value = callback(value);\n    } catch(e) {\n      reject(promise, e);\n    }\n  }\n\n  if (!handleThenable(promise, value))\n  {\n    if (settled === FULFILLED)\n      resolve(promise, value);\n\n    if (settled === REJECTED)\n      reject(promise, value);\n  }\n}\n\nfunction handleThenable(promise, value) {\n  var resolved;\n\n  try {\n    if (promise === value)\n      throw new TypeError('A promises callback cannot return that same promise.');\n\n    if (value && (typeof value === 'function' || typeof value === 'object'))\n    {\n      var then = value.then;  // then should be retrived only once\n\n      if (typeof then === 'function')\n      {\n        then.call(value, function(val){\n          if (!resolved)\n          {\n            resolved = true;\n\n            if (value !== val)\n              resolve(promise, val);\n            else\n              fulfill(promise, val);\n          }\n        }, function(reason){\n          if (!resolved)\n          {\n            resolved = true;\n\n            reject(promise, reason);\n          }\n        });\n\n        return true;\n      }\n    }\n  } catch (e) {\n    if (!resolved)\n      reject(promise, e);\n\n    return true;\n  }\n\n  return false;\n}\n\nfunction resolve(promise, value){\n  if (promise === value || !handleThenable(promise, value))\n    fulfill(promise, value);\n}\n\nfunction fulfill(promise, value){\n  if (promise.state_ === PENDING)\n  {\n    promise.state_ = SEALED;\n    promise.data_ = value;\n\n    asyncCall(publishFulfillment, promise);\n  }\n}\n\nfunction reject(promise, reason){\n  if (promise.state_ === PENDING)\n  {\n    promise.state_ = SEALED;\n    promise.data_ = reason;\n\n    asyncCall(publishRejection, promise);\n  }\n}\n\nfunction publish(promise) {\n  var callbacks = promise.then_;\n  promise.then_ = undefined;\n\n  for (var i = 0; i < callbacks.length; i++) {\n    invokeCallback(callbacks[i]);\n  }\n}\n\nfunction publishFulfillment(promise){\n  promise.state_ = FULFILLED;\n  publish(promise);\n}\n\nfunction publishRejection(promise){\n  promise.state_ = REJECTED;\n  publish(promise);\n}\n\n/**\n* @class\n*/\nfunction Promise(resolver){\n  if (typeof resolver !== 'function')\n    throw new TypeError('Promise constructor takes a function argument');\n\n  if (this instanceof Promise === false)\n    throw new TypeError('Failed to construct \\'Promise\\': Please use the \\'new\\' operator, this object constructor cannot be called as a function.');\n\n  this.then_ = [];\n\n  invokeResolver(resolver, this);\n}\n\nPromise.prototype = {\n  constructor: Promise,\n\n  state_: PENDING,\n  then_: null,\n  data_: undefined,\n\n  then: function(onFulfillment, onRejection){\n    var subscriber = {\n      owner: this,\n      then: new this.constructor(NOOP),\n      fulfilled: onFulfillment,\n      rejected: onRejection\n    };\n\n    if (this.state_ === FULFILLED || this.state_ === REJECTED)\n    {\n      // already resolved, call callback async\n      asyncCall(invokeCallback, subscriber);\n    }\n    else\n    {\n      // subscribe\n      this.then_.push(subscriber);\n    }\n\n    return subscriber.then;\n  },\n\n  'catch': function(onRejection) {\n    return this.then(null, onRejection);\n  }\n};\n\nPromise.all = function(promises){\n  var Class = this;\n\n  if (!isArray(promises))\n    throw new TypeError('You must pass an array to Promise.all().');\n\n  return new Class(function(resolve, reject){\n    var results = [];\n    var remaining = 0;\n\n    function resolver(index){\n      remaining++;\n      return function(value){\n        results[index] = value;\n        if (!--remaining)\n          resolve(results);\n      };\n    }\n\n    for (var i = 0, promise; i < promises.length; i++)\n    {\n      promise = promises[i];\n\n      if (promise && typeof promise.then === 'function')\n        promise.then(resolver(i), reject);\n      else\n        results[i] = promise;\n    }\n\n    if (!remaining)\n      resolve(results);\n  });\n};\n\nPromise.race = function(promises){\n  var Class = this;\n\n  if (!isArray(promises))\n    throw new TypeError('You must pass an array to Promise.race().');\n\n  return new Class(function(resolve, reject) {\n    for (var i = 0, promise; i < promises.length; i++)\n    {\n      promise = promises[i];\n\n      if (promise && typeof promise.then === 'function')\n        promise.then(resolve, reject);\n      else\n        resolve(promise);\n    }\n  });\n};\n\nPromise.resolve = function(value){\n  var Class = this;\n\n  if (value && typeof value === 'object' && value.constructor === Class)\n    return value;\n\n  return new Class(function(resolve){\n    resolve(value);\n  });\n};\n\nPromise.reject = function(reason){\n  var Class = this;\n\n  return new Class(function(resolve, reject){\n    reject(reason);\n  });\n};\n\n})(typeof window != 'undefined' ? window : typeof global != 'undefined' ? global : typeof self != 'undefined' ? self : this);\n","import { Polyfill } from 'es6-promise-polyfill';\n\n// Support for IE 9 - 11 which does not include Promises\nif (!window.Promise)\n{\n    window.Promise = Polyfill;\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","// References:\n// https://github.com/sindresorhus/object-assign\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\nimport objectAssign from 'object-assign';\n\nif (!Object.assign)\n{\n    Object.assign = objectAssign;\n}\n","// References:\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n// https://gist.github.com/1579671\n// http://updates.html5rocks.com/2012/05/requestAnimationFrame-API-now-with-sub-millisecond-precision\n// https://gist.github.com/timhall/4078614\n// https://github.com/Financial-Times/polyfill-service/tree/master/polyfills/requestAnimationFrame\n\n// Expected to be used with Browserfiy\n// Browserify automatically detects the use of `global` and passes the\n// correct reference of `global`, `self`, and finally `window`\n\nconst ONE_FRAME_TIME = 16;\n\n// Date.now\nif (!(Date.now && Date.prototype.getTime))\n{\n    Date.now = function now(): number\n    {\n        return new Date().getTime();\n    };\n}\n\n// performance.now\nif (!(window.performance && window.performance.now))\n{\n    const startTime = Date.now();\n\n    if (!window.performance)\n    {\n        (window as any).performance = {};\n    }\n\n    window.performance.now = (): number => Date.now() - startTime;\n}\n\n// requestAnimationFrame\nlet lastTime = Date.now();\nconst vendors = ['ms', 'moz', 'webkit', 'o'];\n\nfor (let x = 0; x < vendors.length && !window.requestAnimationFrame; ++x)\n{\n    const p = vendors[x];\n\n    window.requestAnimationFrame = (window as any)[`${p}RequestAnimationFrame`];\n    window.cancelAnimationFrame = (window as any)[`${p}CancelAnimationFrame`]\n        || (window as any)[`${p}CancelRequestAnimationFrame`];\n}\n\nif (!window.requestAnimationFrame)\n{\n    window.requestAnimationFrame = (callback: (...parms: any[]) => void): number =>\n    {\n        if (typeof callback !== 'function')\n        {\n            throw new TypeError(`${callback}is not a function`);\n        }\n\n        const currentTime = Date.now();\n        let delay = ONE_FRAME_TIME + lastTime - currentTime;\n\n        if (delay < 0)\n        {\n            delay = 0;\n        }\n\n        lastTime = currentTime;\n\n        return window.setTimeout(() =>\n        {\n            lastTime = Date.now();\n            callback(performance.now());\n        }, delay);\n    };\n}\n\nif (!window.cancelAnimationFrame)\n{\n    window.cancelAnimationFrame = (id: number): void => clearTimeout(id);\n}\n","// References:\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n\nif (!Math.sign)\n{\n    Math.sign = function mathSign(x): number\n    {\n        x = Number(x);\n\n        if (x === 0 || isNaN(x))\n        {\n            return x;\n        }\n\n        return x > 0 ? 1 : -1;\n    };\n}\n","// References:\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n\nif (!Number.isInteger)\n{\n    Number.isInteger = function numberIsInteger(value): boolean\n    {\n        return typeof value === 'number' && isFinite(value) && Math.floor(value) === value;\n    };\n}\n","import './Promise';\nimport './Object.assign';\nimport './requestAnimationFrame';\nimport './Math.sign';\nimport './Number.isInteger';\n\nif (!window.ArrayBuffer)\n{\n    (window as any).ArrayBuffer = Array;\n}\n\nif (!window.Float32Array)\n{\n    (window as any).Float32Array = Array;\n}\n\nif (!window.Uint32Array)\n{\n    (window as any).Uint32Array = Array;\n}\n\nif (!window.Uint16Array)\n{\n    (window as any).Uint16Array = Array;\n}\n\nif (!window.Uint8Array)\n{\n    (window as any).Uint8Array = Array;\n}\n\nif (!window.Int32Array)\n{\n    (window as any).Int32Array = Array;\n}\n"],"names":["define","global","this","Polyfill","arguments"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAAA,CAAC,SAAS,MAAM,CAAC;;;;;;CAMjB,IAAI,aAAa,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;CACtC,IAAI,sBAAsB;GACxB,aAAa;;;GAGb,SAAS,IAAI,aAAa;GAC1B,QAAQ,IAAI,aAAa;GACzB,KAAK,IAAI,aAAa;GACtB,MAAM,IAAI,aAAa;;;GAGvB,CAAC,UAAU;KACT,IAAI,OAAO,CAAC;KACZ,IAAI,aAAa,CAAC,SAAS,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;KAC/C,OAAO,OAAO,OAAO,KAAK,UAAU,CAAC;IACtC,GAAG,CAAC;;;;;;;CAOP,IAAI,QAAc,KAAK,WAAW,IAAI,OAAO;CAC7C;;GAEE,eAAe,GAAG,sBAAsB,GAAG,aAAa,GAAG,OAAO,CAAC;GACnE,gBAAgB,GAAG,OAAO,CAAC;EAC5B;;CAED;;GAEE,IAAI,OAAOA,SAAM,IAAI,UAAU,IAAIA,SAAM,CAAC,GAAG;GAC7C;KACEA,SAAM,CAAC,UAAU;OACf,OAAO,sBAAsB,GAAG,aAAa,GAAG,OAAO,CAAC;MACzD,CAAC,CAAC;IACJ;;GAED;;KAEE,IAAI,CAAC,sBAAsB;SACzB,MAAM,CAAC,SAAS,CAAC,GAAG,OAAO,GAAC;IAC/B;EACF;;;;;;;CAOD,IAAI,OAAO,GAAG,SAAS,CAAC;CACxB,IAAI,MAAM,GAAG,QAAQ,CAAC;CACtB,IAAI,SAAS,GAAG,WAAW,CAAC;CAC5B,IAAI,QAAQ,GAAG,UAAU,CAAC;CAC1B,IAAI,IAAI,GAAG,UAAU,EAAE,CAAC;;CAExB,SAAS,OAAO,CAAC,KAAK,EAAE;GACtB,OAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,gBAAgB,CAAC;EACnE;;;CAGD,IAAI,aAAa,GAAG,OAAO,YAAY,KAAK,WAAW,GAAG,YAAY,GAAG,UAAU,CAAC;CACpF,IAAI,UAAU,GAAG,EAAE,CAAC;CACpB,IAAI,UAAU,CAAC;;CAEf,SAAS,UAAU,EAAE;;GAEnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE;OACxC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAC;;;GAGrC,UAAU,GAAG,EAAE,CAAC;GAChB,UAAU,GAAG,KAAK,CAAC;EACpB;;CAED,SAAS,SAAS,CAAC,QAAQ,EAAE,GAAG,CAAC;GAC/B,UAAU,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC;;GAEjC,IAAI,CAAC,UAAU;GACf;KACE,UAAU,GAAG,IAAI,CAAC;KAClB,aAAa,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;IAC9B;EACF;;;CAGD,SAAS,cAAc,CAAC,QAAQ,EAAE,OAAO,EAAE;GACzC,SAAS,cAAc,CAAC,KAAK,EAAE;KAC7B,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;IACzB;;GAED,SAAS,aAAa,CAAC,MAAM,EAAE;KAC7B,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;IACzB;;GAED,IAAI;KACF,QAAQ,CAAC,cAAc,EAAE,aAAa,CAAC,CAAC;IACzC,CAAC,MAAM,CAAC,EAAE;KACT,aAAa,CAAC,CAAC,CAAC,CAAC;IAClB;EACF;;CAED,SAAS,cAAc,CAAC,UAAU,CAAC;GACjC,IAAI,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC;GAC7B,IAAI,OAAO,GAAG,KAAK,CAAC,MAAM,CAAC;GAC3B,IAAI,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;GACxB,IAAI,QAAQ,GAAG,UAAU,CAAC,OAAO,CAAC,CAAC;GACnC,IAAI,OAAO,GAAG,UAAU,CAAC,IAAI,CAAC;;GAE9B,IAAI,OAAO,QAAQ,KAAK,UAAU;GAClC;KACE,OAAO,GAAG,SAAS,CAAC;KACpB,IAAI;OACF,KAAK,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;MACzB,CAAC,MAAM,CAAC,EAAE;OACT,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;MACpB;IACF;;GAED,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,KAAK,CAAC;GACnC;KACE,IAAI,OAAO,KAAK,SAAS;SACvB,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,GAAC;;KAE1B,IAAI,OAAO,KAAK,QAAQ;SACtB,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC,GAAC;IAC1B;EACF;;CAED,SAAS,cAAc,CAAC,OAAO,EAAE,KAAK,EAAE;GACtC,IAAI,QAAQ,CAAC;;GAEb,IAAI;KACF,IAAI,OAAO,KAAK,KAAK;SACnB,MAAM,IAAI,SAAS,CAAC,sDAAsD,CAAC,GAAC;;KAE9E,IAAI,KAAK,KAAK,OAAO,KAAK,KAAK,UAAU,IAAI,OAAO,KAAK,KAAK,QAAQ,CAAC;KACvE;OACE,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;;OAEtB,IAAI,OAAO,IAAI,KAAK,UAAU;OAC9B;SACE,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,SAAS,GAAG,CAAC;WAC5B,IAAI,CAAC,QAAQ;WACb;aACE,QAAQ,GAAG,IAAI,CAAC;;aAEhB,IAAI,KAAK,KAAK,GAAG;iBACf,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,GAAC;;iBAEtB,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,GAAC;YACzB;UACF,EAAE,SAAS,MAAM,CAAC;WACjB,IAAI,CAAC,QAAQ;WACb;aACE,QAAQ,GAAG,IAAI,CAAC;;aAEhB,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;YACzB;UACF,CAAC,CAAC;;SAEH,OAAO,IAAI,CAAC;QACb;MACF;IACF,CAAC,OAAO,CAAC,EAAE;KACV,IAAI,CAAC,QAAQ;SACX,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,GAAC;;KAErB,OAAO,IAAI,CAAC;IACb;;GAED,OAAO,KAAK,CAAC;EACd;;CAED,SAAS,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC;GAC9B,IAAI,OAAO,KAAK,KAAK,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,KAAK,CAAC;OACtD,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,GAAC;EAC3B;;CAED,SAAS,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC;GAC9B,IAAI,OAAO,CAAC,MAAM,KAAK,OAAO;GAC9B;KACE,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;KACxB,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;;KAEtB,SAAS,CAAC,kBAAkB,EAAE,OAAO,CAAC,CAAC;IACxC;EACF;;CAED,SAAS,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC;GAC9B,IAAI,OAAO,CAAC,MAAM,KAAK,OAAO;GAC9B;KACE,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;KACxB,OAAO,CAAC,KAAK,GAAG,MAAM,CAAC;;KAEvB,SAAS,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;IACtC;EACF;;CAED,SAAS,OAAO,CAAC,OAAO,EAAE;GACxB,IAAI,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC;GAC9B,OAAO,CAAC,KAAK,GAAG,SAAS,CAAC;;GAE1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;KACzC,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9B;EACF;;CAED,SAAS,kBAAkB,CAAC,OAAO,CAAC;GAClC,OAAO,CAAC,MAAM,GAAG,SAAS,CAAC;GAC3B,OAAO,CAAC,OAAO,CAAC,CAAC;EAClB;;CAED,SAAS,gBAAgB,CAAC,OAAO,CAAC;GAChC,OAAO,CAAC,MAAM,GAAG,QAAQ,CAAC;GAC1B,OAAO,CAAC,OAAO,CAAC,CAAC;EAClB;;;;;CAKD,SAAS,OAAO,CAAC,QAAQ,CAAC;GACxB,IAAI,OAAO,QAAQ,KAAK,UAAU;OAChC,MAAM,IAAI,SAAS,CAAC,+CAA+C,CAAC,GAAC;;GAEvE,IAAI,IAAI,YAAY,OAAO,KAAK,KAAK;OACnC,MAAM,IAAI,SAAS,CAAC,2HAA2H,CAAC,GAAC;;GAEnJ,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;;GAEhB,cAAc,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;EAChC;;CAED,OAAO,CAAC,SAAS,GAAG;GAClB,WAAW,EAAE,OAAO;;GAEpB,MAAM,EAAE,OAAO;GACf,KAAK,EAAE,IAAI;GACX,KAAK,EAAE,SAAS;;GAEhB,IAAI,EAAE,SAAS,aAAa,EAAE,WAAW,CAAC;KACxC,IAAI,UAAU,GAAG;OACf,KAAK,EAAE,IAAI;OACX,IAAI,EAAE,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;OAChC,SAAS,EAAE,aAAa;OACxB,QAAQ,EAAE,WAAW;MACtB,CAAC;;KAEF,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,IAAI,IAAI,CAAC,MAAM,KAAK,QAAQ;KACzD;;OAEE,SAAS,CAAC,cAAc,EAAE,UAAU,CAAC,CAAC;MACvC;;KAED;;OAEE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;MAC7B;;KAED,OAAO,UAAU,CAAC,IAAI,CAAC;IACxB;;GAED,OAAO,EAAE,SAAS,WAAW,EAAE;KAC7B,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;IACrC;EACF,CAAC;;CAEF,OAAO,CAAC,GAAG,GAAG,SAAS,QAAQ,CAAC;GAC9B,IAAI,KAAK,GAAG,IAAI,CAAC;;GAEjB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;OACpB,MAAM,IAAI,SAAS,CAAC,0CAA0C,CAAC,GAAC;;GAElE,OAAO,IAAI,KAAK,CAAC,SAAS,OAAO,EAAE,MAAM,CAAC;KACxC,IAAI,OAAO,GAAG,EAAE,CAAC;KACjB,IAAI,SAAS,GAAG,CAAC,CAAC;;KAElB,SAAS,QAAQ,CAAC,KAAK,CAAC;OACtB,SAAS,EAAE,CAAC;OACZ,OAAO,SAAS,KAAK,CAAC;SACpB,OAAO,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;SACvB,IAAI,CAAC,EAAE,SAAS;aACd,OAAO,CAAC,OAAO,CAAC,GAAC;QACpB,CAAC;MACH;;KAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE;KACjD;OACE,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;;OAEtB,IAAI,OAAO,IAAI,OAAO,OAAO,CAAC,IAAI,KAAK,UAAU;WAC/C,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,GAAC;;WAElC,OAAO,CAAC,CAAC,CAAC,GAAG,OAAO,GAAC;MACxB;;KAED,IAAI,CAAC,SAAS;SACZ,OAAO,CAAC,OAAO,CAAC,GAAC;IACpB,CAAC,CAAC;EACJ,CAAC;;CAEF,OAAO,CAAC,IAAI,GAAG,SAAS,QAAQ,CAAC;GAC/B,IAAI,KAAK,GAAG,IAAI,CAAC;;GAEjB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;OACpB,MAAM,IAAI,SAAS,CAAC,2CAA2C,CAAC,GAAC;;GAEnE,OAAO,IAAI,KAAK,CAAC,SAAS,OAAO,EAAE,MAAM,EAAE;KACzC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE;KACjD;OACE,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;;OAEtB,IAAI,OAAO,IAAI,OAAO,OAAO,CAAC,IAAI,KAAK,UAAU;WAC/C,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,GAAC;;WAE9B,OAAO,CAAC,OAAO,CAAC,GAAC;MACpB;IACF,CAAC,CAAC;EACJ,CAAC;;CAEF,OAAO,CAAC,OAAO,GAAG,SAAS,KAAK,CAAC;GAC/B,IAAI,KAAK,GAAG,IAAI,CAAC;;GAEjB,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,CAAC,WAAW,KAAK,KAAK;OACnE,OAAO,KAAK,GAAC;;GAEf,OAAO,IAAI,KAAK,CAAC,SAAS,OAAO,CAAC;KAChC,OAAO,CAAC,KAAK,CAAC,CAAC;IAChB,CAAC,CAAC;EACJ,CAAC;;CAEF,OAAO,CAAC,MAAM,GAAG,SAAS,MAAM,CAAC;GAC/B,IAAI,KAAK,GAAG,IAAI,CAAC;;GAEjB,OAAO,IAAI,KAAK,CAAC,SAAS,OAAO,EAAE,MAAM,CAAC;KACxC,MAAM,CAAC,MAAM,CAAC,CAAC;IAChB,CAAC,CAAC;EACJ,CAAC;;EAED,EAAE,OAAO,MAAM,IAAI,WAAW,GAAG,MAAM,GAAG,OAAOC,cAAM,IAAI,WAAW,GAAGA,cAAM,GAAG,OAAO,IAAI,IAAI,WAAW,GAAG,IAAI,GAAGC,cAAI,CAAC,CAAC;;;;;;CCtV7H,IAAI,CAAC,MAAM,CAAC,OAAO,EACnB;KACI,MAAM,CAAC,OAAO,GAAGC,SAAQ,CAAC;EAC7B;;CCND;;;;;;CAMA,YAAY,CAAC;;CAEb,IAAI,qBAAqB,GAAG,MAAM,CAAC,qBAAqB,CAAC;CACzD,IAAI,cAAc,GAAG,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC;CACrD,IAAI,gBAAgB,GAAG,MAAM,CAAC,SAAS,CAAC,oBAAoB,CAAC;;CAE7D,SAAS,QAAQ,CAAC,GAAG,EAAE;EACtB,IAAI,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,SAAS,EAAE;GACtC,MAAM,IAAI,SAAS,CAAC,uDAAuD,CAAC,CAAC;GAC7E;;EAED,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC;EACnB;;CAED,SAAS,eAAe,GAAG;EAC1B,IAAI;GACH,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;IACnB,OAAO,KAAK,CAAC;IACb;;;;;GAKD,IAAI,KAAK,GAAG,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC;GAC9B,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;GAChB,IAAI,MAAM,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;IACjD,OAAO,KAAK,CAAC;IACb;;;GAGD,IAAI,KAAK,GAAG,EAAE,CAAC;GACf,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;IAC5B,KAAK,CAAC,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IACxC;GACD,IAAI,MAAM,GAAG,MAAM,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE;IAC/D,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC;GACH,IAAI,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,YAAY,EAAE;IACrC,OAAO,KAAK,CAAC;IACb;;;GAGD,IAAI,KAAK,GAAG,EAAE,CAAC;GACf,sBAAsB,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,UAAU,MAAM,EAAE;IAC1D,KAAK,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC;IACvB,CAAC,CAAC;GACH,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC;KAChD,sBAAsB,EAAE;IACzB,OAAO,KAAK,CAAC;IACb;;GAED,OAAO,IAAI,CAAC;GACZ,CAAC,OAAO,GAAG,EAAE;;GAEb,OAAO,KAAK,CAAC;GACb;EACD;;CAED,gBAAc,GAAG,eAAe,EAAE,GAAG,MAAM,CAAC,MAAM,GAAG,UAAU,MAAM,EAAE,MAAM,EAAE;;;EAC9E,IAAI,IAAI,CAAC;EACT,IAAI,EAAE,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC;EAC1B,IAAI,OAAO,CAAC;;EAEZ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;GAC1C,IAAI,GAAG,MAAM,CAACC,WAAS,CAAC,CAAC,CAAC,CAAC,CAAC;;GAE5B,KAAK,IAAI,GAAG,IAAI,IAAI,EAAE;IACrB,IAAI,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE;KACnC,EAAE,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;KACpB;IACD;;GAED,IAAI,qBAAqB,EAAE;IAC1B,OAAO,GAAG,qBAAqB,CAAC,IAAI,CAAC,CAAC;IACtC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;KACxC,IAAI,gBAAgB,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE;MAC5C,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;MAClC;KACD;IACD;GACD;;EAED,OAAO,EAAE,CAAC;EACV,CAAC;;CCzFF;CAMA,IAAI,CAAC,MAAM,CAAC,MAAM,EAClB;KACI,MAAM,CAAC,MAAM,GAAG,YAAY,CAAC;EAChC;;;;;;;;;;;;CCED,IAAM,cAAc,GAAG,EAAE,CAAC;;CAG1B,IAAI,EAAE,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,EACzC;KACI,IAAI,CAAC,GAAG,GAAG,SAAS,GAAG;SAEnB,OAAO,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;MAC/B,CAAC;EACL;;CAGD,IAAI,EAAE,MAAM,CAAC,WAAW,IAAI,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,EACnD;KACI,IAAM,WAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;KAE7B,IAAI,CAAC,MAAM,CAAC,WAAW,EACvB;SACK,MAAc,CAAC,WAAW,GAAG,EAAE,CAAC;MACpC;KAED,MAAM,CAAC,WAAW,CAAC,GAAG,GAAG,cAAc,OAAA,IAAI,CAAC,GAAG,EAAE,GAAG,WAAS,GAAA,CAAC;EACjE;;CAGD,IAAI,QAAQ,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;CAC1B,IAAM,OAAO,GAAG,CAAC,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,CAAC,CAAC;CAE7C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,qBAAqB,EAAE,EAAE,CAAC,EACxE;KACI,IAAM,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;KAErB,MAAM,CAAC,qBAAqB,GAAI,MAAc,CAAI,CAAC,0BAAuB,CAAC,CAAC;KAC5E,MAAM,CAAC,oBAAoB,GAAI,MAAc,CAAI,CAAC,yBAAsB,CAAC;YACjE,MAAc,CAAI,CAAC,gCAA6B,CAAC,CAAC;EAC7D;CAED,IAAI,CAAC,MAAM,CAAC,qBAAqB,EACjC;KACI,MAAM,CAAC,qBAAqB,GAAG,UAAC,QAAmC;SAE/D,IAAI,OAAO,QAAQ,KAAK,UAAU,EAClC;aACI,MAAM,IAAI,SAAS,CAAI,QAAQ,sBAAmB,CAAC,CAAC;UACvD;SAED,IAAM,WAAW,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;SAC/B,IAAI,KAAK,GAAG,cAAc,GAAG,QAAQ,GAAG,WAAW,CAAC;SAEpD,IAAI,KAAK,GAAG,CAAC,EACb;aACI,KAAK,GAAG,CAAC,CAAC;UACb;SAED,QAAQ,GAAG,WAAW,CAAC;SAEvB,OAAO,MAAM,CAAC,UAAU,CAAC;aAErB,QAAQ,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;aACtB,QAAQ,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC,CAAC;UAC/B,EAAE,KAAK,CAAC,CAAC;MACb,CAAC;EACL;CAED,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAChC;KACI,MAAM,CAAC,oBAAoB,GAAG,UAAC,EAAU,IAAW,OAAA,YAAY,CAAC,EAAE,CAAC,GAAA,CAAC;EACxE;;;;;CC3ED,IAAI,CAAC,IAAI,CAAC,IAAI,EACd;KACI,IAAI,CAAC,IAAI,GAAG,SAAS,QAAQ,CAAC,CAAC;SAE3B,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;SAEd,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,EACvB;aACI,OAAO,CAAC,CAAC;UACZ;SAED,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;MACzB,CAAC;EACL;;;;;CCbD,IAAI,CAAC,MAAM,CAAC,SAAS,EACrB;KACI,MAAM,CAAC,SAAS,GAAG,SAAS,eAAe,CAAC,KAAK;SAE7C,OAAO,OAAO,KAAK,KAAK,QAAQ,IAAI,QAAQ,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,KAAK,CAAC;MACtF,CAAC;EACL;;CCHD,IAAI,CAAC,MAAM,CAAC,WAAW,EACvB;KACK,MAAc,CAAC,WAAW,GAAG,KAAK,CAAC;EACvC;CAED,IAAI,CAAC,MAAM,CAAC,YAAY,EACxB;KACK,MAAc,CAAC,YAAY,GAAG,KAAK,CAAC;EACxC;CAED,IAAI,CAAC,MAAM,CAAC,WAAW,EACvB;KACK,MAAc,CAAC,WAAW,GAAG,KAAK,CAAC;EACvC;CAED,IAAI,CAAC,MAAM,CAAC,WAAW,EACvB;KACK,MAAc,CAAC,WAAW,GAAG,KAAK,CAAC;EACvC;CAED,IAAI,CAAC,MAAM,CAAC,UAAU,EACtB;KACK,MAAc,CAAC,UAAU,GAAG,KAAK,CAAC;EACtC;CAED,IAAI,CAAC,MAAM,CAAC,UAAU,EACtB;KACK,MAAc,CAAC,UAAU,GAAG,KAAK,CAAC;EACtC;;;;"}